<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><title>Go: Server-Sent Events - Anas Rin</title><meta name="description" content=" Background I work on project that use Go as HTTP server, and need to constantly send information to the client in real time. At first I think about websocke..."><meta property="og:site_name" content="Anas Rin"><meta property="og:title" content="Go: Server-Sent Events - Anas Rin"><meta property="og:type" content="article"><meta property="og:url" content="https://anasrar.github.io/blog/go-server-sent-events/"><meta property="og:image" content="https://og-anasrin.vercel.app/img.png?title=Go: Server-Sent Events&#38;bg=19875&#38;authorImg=http://avatars.githubusercontent.com/u/38805204&#38;authorName=Anas Rin&#38;website=anasrin.vercel.app"><meta property="og:description" content=" Background I work on project that use Go as HTTP server, and need to constantly send information to the client in real time. At first I think about websocke..."><meta property="article:published_time" content="2024-06-01T00:00:00.000Z"><meta property="article:author" content="https://anasrin.vercel.app"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@rrrriiiiiinnnn"><meta name="twitter:title" content="Go: Server-Sent Events"><meta name="twitter:description" content=" Background I work on project that use Go as HTTP server, and need to constantly send information to the client in real time. At first I think about websocke..."><meta name="twitter:image" content="https://og-anasrin.vercel.app/img.png?title=Go: Server-Sent Events&#38;bg=19875&#38;authorImg=http://avatars.githubusercontent.com/u/38805204&#38;authorName=Anas Rin&#38;website=anasrin.vercel.app"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Go: Server-Sent Events","image":"https://og-anasrin.vercel.app/img.png?title=Go: Server-Sent Events&bg=19875&authorImg=http://avatars.githubusercontent.com/u/38805204&authorName=Anas Rin&website=anasrin.vercel.app","author":[{"@type":"Person","name":"Anas Rin","url":"https://anasrin.vercel.app/"}],"url":"https://anasrar.github.io/blog/go-server-sent-events/","mainEntityOfPage":{"@type":"WebPage","@id":"https://google.com/article"},"datePublished":"2024-06-01T00:00:00.000Z","description":" Background I work on project that use Go as HTTP server, and need to constantly send information to the client in real time. At first I think about websocke..."}</script><link rel="stylesheet" href="/_astro/_slug_.dac00a15.css" />
<link rel="stylesheet" href="/_astro/_slug_.aa2c6653.css" />
<style>.title[data-astro-cid-6idpve2o]{margin:0;font-weight:600}h1[data-astro-cid-6idpve2o],.size-h1[data-astro-cid-6idpve2o]{font-size:1.802rem}h2[data-astro-cid-6idpve2o],.size-h2[data-astro-cid-6idpve2o]{font-size:1.602rem}h3[data-astro-cid-6idpve2o],.size-h3[data-astro-cid-6idpve2o]{font-size:1.424rem}h4[data-astro-cid-6idpve2o],.size-h4[data-astro-cid-6idpve2o]{font-size:1.266rem}h5[data-astro-cid-6idpve2o],.size-h5[data-astro-cid-6idpve2o]{font-size:1.125rem}h6[data-astro-cid-6idpve2o],.size-h6[data-astro-cid-6idpve2o]{font-size:1rem}
section[data-astro-cid-v6wdqmfp]{display:flex;flex-flow:column nowrap;gap:.75rem;margin:.5rem 0 0}.open-discussion[data-astro-cid-v6wdqmfp],.write-giscus[data-astro-cid-v6wdqmfp]{align-self:center}.write-giscus[data-astro-cid-v6wdqmfp]{display:none!important;position:sticky;bottom:.5rem}.write-giscus[data-astro-cid-v6wdqmfp].show{display:inline-flex!important}
.container[data-astro-cid-7jjqptxk]{width:100%;max-width:var(--container-sm);margin:1rem auto 0;padding:1.5rem .75rem .75rem}article[data-astro-cid-7jjqptxk]{display:flex;flex-flow:column nowrap;gap:1.5rem}.back[data-astro-cid-7jjqptxk]{align-self:flex-start}header[data-astro-cid-7jjqptxk]{display:flex;flex-flow:column nowrap;gap:.5rem}.title{line-height:2.5rem}.authors[data-astro-cid-7jjqptxk]{display:flex;flex-flow:row nowrap;gap:1.25rem;margin-top:.75rem}@media (max-width: 32.25rem){.authors[data-astro-cid-7jjqptxk]{gap:.5rem}}.information[data-astro-cid-7jjqptxk]{align-self:flex-start;color:#a6a7ab;font-size:.875rem;font-variant-numeric:tabular-nums;cursor:help}html.light .information[data-astro-cid-7jjqptxk]{color:#5c5f66}hr[data-astro-cid-7jjqptxk]{height:1px;margin:0;border:0;border-top:1px solid #343a40;transition:border-top .1s linear}html.light hr[data-astro-cid-7jjqptxk]{border-top:1px solid #ced4da}main[data-astro-cid-7jjqptxk]>:first-child{margin-top:0}
</style><script type="module" src="/_astro/hoisted.90a65e18.js"></script></head><body><header class="sticky-header" data-astro-cid-eiyd7voq><div class="container" data-astro-cid-eiyd7voq><nav class="group md" data-astro-cid-eiyd7voq><a class="btn undefined" href="https://anasrar.github.io/" data-astro-cid-eiyd7voq data-astro-cid-7ab5kplb><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home-heart" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-eiyd7voq><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-eiyd7voq></path><path d="M21 12l-9 -9l-9 9h2v7a2 2 0 0 0 2 2h6" data-astro-cid-eiyd7voq></path><path d="M9 21v-6a2 2 0 0 1 2 -2h2c.39 0 .754 .112 1.061 .304" data-astro-cid-eiyd7voq></path><path d="M18.994 21.5l2.518 -2.58a1.74 1.74 0 0 0 .004 -2.413a1.627 1.627 0 0 0 -2.346 -.005l-.168 .172l-.168 -.172a1.627 1.627 0 0 0 -2.346 -.004a1.74 1.74 0 0 0 -.004 2.412l2.51 2.59z" data-astro-cid-eiyd7voq></path></svg> Home
</a><a class="btn undefined" href="https://anasrar.github.io/guestbook/" data-astro-cid-eiyd7voq data-astro-cid-7ab5kplb><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-messages" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-eiyd7voq><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-eiyd7voq></path><path d="M21 14l-3 -3h-7a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10" data-astro-cid-eiyd7voq></path><path d="M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2" data-astro-cid-eiyd7voq></path></svg>
Guestbook
</a><a class="btn undefined" href="https://anasrar.github.io/projects/" data-astro-cid-eiyd7voq data-astro-cid-7ab5kplb><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-layout-grid-add" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-eiyd7voq><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-eiyd7voq></path><rect x="4" y="4" width="6" height="6" rx="1" data-astro-cid-eiyd7voq></rect><rect x="14" y="4" width="6" height="6" rx="1" data-astro-cid-eiyd7voq></rect><rect x="4" y="14" width="6" height="6" rx="1" data-astro-cid-eiyd7voq></rect><path d="M14 17h6m-3 -3v6" data-astro-cid-eiyd7voq></path></svg>
Projects
</a><a class="btn undefined" href="https://anasrar.github.io/blog/" data-astro-cid-eiyd7voq data-astro-cid-7ab5kplb><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-news" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-eiyd7voq><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-eiyd7voq></path><path d="M16 6h3a1 1 0 0 1 1 1v11a2 2 0 0 1 -4 0v-13a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1v12a3 3 0 0 0 3 3h11" data-astro-cid-eiyd7voq></path><line x1="8" y1="8" x2="12" y2="8" data-astro-cid-eiyd7voq></line><line x1="8" y1="12" x2="12" y2="12" data-astro-cid-eiyd7voq></line><line x1="8" y1="16" x2="12" y2="16" data-astro-cid-eiyd7voq></line></svg> Blog
</a></nav><nav class="group xs" data-astro-cid-eiyd7voq><a class="btn btn-square" href="https://anasrar.github.io/" title="Home" data-astro-cid-eiyd7voq data-astro-cid-7ab5kplb><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home-heart" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-eiyd7voq><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-eiyd7voq></path><path d="M21 12l-9 -9l-9 9h2v7a2 2 0 0 0 2 2h6" data-astro-cid-eiyd7voq></path><path d="M9 21v-6a2 2 0 0 1 2 -2h2c.39 0 .754 .112 1.061 .304" data-astro-cid-eiyd7voq></path><path d="M18.994 21.5l2.518 -2.58a1.74 1.74 0 0 0 .004 -2.413a1.627 1.627 0 0 0 -2.346 -.005l-.168 .172l-.168 -.172a1.627 1.627 0 0 0 -2.346 -.004a1.74 1.74 0 0 0 -.004 2.412l2.51 2.59z" data-astro-cid-eiyd7voq></path></svg></a><a class="btn btn-square" href="https://anasrar.github.io/guestbook/" title="Guestbook" data-astro-cid-eiyd7voq data-astro-cid-7ab5kplb><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-messages" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-eiyd7voq><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-eiyd7voq></path><path d="M21 14l-3 -3h-7a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10" data-astro-cid-eiyd7voq></path><path d="M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2" data-astro-cid-eiyd7voq></path></svg></a><a class="btn btn-square" href="https://anasrar.github.io/projects/" title="Projects" data-astro-cid-eiyd7voq data-astro-cid-7ab5kplb><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-layout-grid-add" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-eiyd7voq><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-eiyd7voq></path><rect x="4" y="4" width="6" height="6" rx="1" data-astro-cid-eiyd7voq></rect><rect x="14" y="4" width="6" height="6" rx="1" data-astro-cid-eiyd7voq></rect><rect x="4" y="14" width="6" height="6" rx="1" data-astro-cid-eiyd7voq></rect><path d="M14 17h6m-3 -3v6" data-astro-cid-eiyd7voq></path></svg></a><a class="btn btn-square" href="https://anasrar.github.io/blog/" title="Blog" data-astro-cid-eiyd7voq data-astro-cid-7ab5kplb><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-news" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-eiyd7voq><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-eiyd7voq></path><path d="M16 6h3a1 1 0 0 1 1 1v11a2 2 0 0 1 -4 0v-13a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1v12a3 3 0 0 0 3 3h11" data-astro-cid-eiyd7voq></path><line x1="8" y1="8" x2="12" y2="8" data-astro-cid-eiyd7voq></line><line x1="8" y1="12" x2="12" y2="12" data-astro-cid-eiyd7voq></line><line x1="8" y1="16" x2="12" y2="16" data-astro-cid-eiyd7voq></line></svg></a></nav><nav class="display:flex flex-flow:row_wrap gap:0.5rem align-items:center" data-astro-cid-eiyd7voq><button class="btn btn-square" title="Toggle Dark/Light Mode" toggle-colorscheme="true" data-astro-cid-eiyd7voq data-astro-cid-7ab5kplb><svg xmlns="http://www.w3.org/2000/svg" class="only-dark icon icon-tabler icon-tabler-sun" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-eiyd7voq><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-eiyd7voq></path><circle cx="12" cy="12" r="4" data-astro-cid-eiyd7voq></circle><path d="M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7" data-astro-cid-eiyd7voq></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="only-light icon icon-tabler icon-tabler-moon-stars" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-eiyd7voq><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-eiyd7voq></path><path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" data-astro-cid-eiyd7voq></path><path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2" data-astro-cid-eiyd7voq></path><path d="M19 11h2m-1 -1v2" data-astro-cid-eiyd7voq></path></svg></button></nav></div></header><article class="container" data-astro-cid-7jjqptxk><section id="toc" data-astro-cid-usk3tzsr><h4 data-astro-cid-usk3tzsr>Table of Contents</h4><ul data-astro-cid-usk3tzsr><li data-astro-cid-usk3tzsr><a id="toc-background" href="#background" style="--depth: 0" title="Background" data-astro-cid-usk3tzsr>Background</a></li><li data-astro-cid-usk3tzsr><a id="toc-result" href="#result" style="--depth: 0" title="Result" data-astro-cid-usk3tzsr>Result</a></li><li data-astro-cid-usk3tzsr><a id="toc-the-code" href="#the-code" style="--depth: 0" title="The Code" data-astro-cid-usk3tzsr>The Code</a></li></ul></section><a class="btn back" href="../" data-astro-cid-7jjqptxk data-astro-cid-7ab5kplb>
&lt;-- &nbsp; Back
</a><header data-astro-cid-7jjqptxk><div class="information" data-astro-cid-7jjqptxk><time title="2024-06-01T00:00:00.000Z" datetime="2024-06-01T00:00:00.000Z" data-astro-cid-7jjqptxk>June 01, 2024</time></div><h1 data-astro-cid-6idpve2o class="title size-h1 balance-text">Go: Server-Sent Events</h1></header><hr data-astro-cid-7jjqptxk><main data-astro-cid-7jjqptxk><section data-astro-cid-wcjwfpce><h2 id="background" data-astro-cid-wcjwfpce class="heading">Background</h2><a href="#background" title="Copy URL" copy-heading-url data-astro-cid-wcjwfpce><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="16" height="16" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wcjwfpce><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-wcjwfpce></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" data-astro-cid-wcjwfpce></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" data-astro-cid-wcjwfpce></path></svg></a></section>
<p class="astro-6r4uocda" data-astro-cid-6r4uocda>I work on project that use Go as HTTP server, and need to constantly send information to the client in real time. At first I think about websocket using <a href="//developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Upgrade">HTTP Upgrade</a> like this <a href="//docs.deno.com/examples/http-server-websocket">Deno example</a> or just set interval on client to fetch like the good old days (but I’m not prefer for client to send bunch of request).</p>
<div class="language-diagram-pintora"><svg width="553" height="467" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 553 467"><defs id="defs_1"></defs><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 0,0 l 553,0 l 0,467 l-553 0 z" fill="transparent" stroke="none" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><g opacity="1" transform="matrix(1,0,0,1,10,50)"><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 30,94 l 476.703125,0 l 0,191 l-476.703125 0 z" stroke="#5c7cfa" stroke-dasharray="2 2" fill="none" style="stroke-width:var(--diagram-pintora-stroke-width, 2)"></path><g opacity="1" class="actor"><line opacity="1" stroke-opacity="1" fill-opacity="1" x1="40" y1="50" x2="40" y2="347" stroke="currentColor" class="actor__line" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></line><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 4,0 l 72,0 a 4,4,0,0,1,4,4 l 0,42 a 4,4,0,0,1,-4,4 l -72,0 a 4,4,0,0,1,-4,-4 l 0,-42 a 4,4,0,0,1,4,-4 z" fill="transparent" stroke="currentColor" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="40" y="25" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">CLIENT</text></g><g opacity="1" class="actor"><line opacity="1" stroke-opacity="1" fill-opacity="1" x1="491.703125" y1="50" x2="491.703125" y2="347" stroke="currentColor" class="actor__line" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></line><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 454.36328125,0 l 74.6796875,0 a 4,4,0,0,1,4,4 l 0,42 a 4,4,0,0,1,-4,4 l -74.6796875,0 a 4,4,0,0,1,-4,-4 l 0,-42 a 4,4,0,0,1,4,-4 z" fill="transparent" stroke="currentColor" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="491.703125" y="25" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">SERVER</text></g><g opacity="1" class="activations"><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 486.703125,86 l 10,0 l 0,199 l-10 0 z" fill="#f8f8f2" stroke="#3b4044" rx="0" ry="0" class="activation" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path></g><g opacity="1" class="message"><line opacity="1" stroke-opacity="1" fill-opacity="1" x1="40" y1="84" x2="491.703125" y2="84" stroke="currentColor" stroke-dasharray="3 3" class="message__line" style="stroke-width:var(--diagram-pintora-stroke-width, 2)"></line><text alignment-baseline="before-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="275.8515625" y="60" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" width="471.703125" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="message__text">CONNECTED</text></g><g opacity="1" class="message"><line opacity="1" stroke-opacity="1" fill-opacity="1" x1="486.703125" y1="163" x2="40" y2="163" stroke="currentColor" class="message__line" style="stroke-width:var(--diagram-pintora-stroke-width, 2)"></line><path opacity="1" stroke-opacity="1" fill-opacity="1" x="31.339745962155618" y="163" fill="currentColor" d="M 31.339745962155618 158L 31.339745962155618 168L 40 163Z" stroke="none" transform="matrix(-1,-1.2246467991473532e-16,1.2246467991473532e-16,-1,79.99999999999997,326)" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="before-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="273.3515625" y="139" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" width="466.703125" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="message__text">SERVER SEND SOME DATA</text></g><g opacity="1" class="message"><line opacity="1" stroke-opacity="1" fill-opacity="1" x1="40" y1="197" x2="486.703125" y2="197" stroke="currentColor" class="message__line" style="stroke-width:var(--diagram-pintora-stroke-width, 2)"></line><path opacity="1" stroke-opacity="1" fill-opacity="1" x="478.04287096215563" y="197" fill="currentColor" d="M 478.04287096215563 192L 478.04287096215563 202L 486.703125 197Z" stroke="none" transform="matrix(1,0,0,1,0,0)" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="before-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="273.3515625" y="173" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" width="466.703125" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="message__text">CLIENT SEND SOME DATA</text></g><g opacity="1" class="note"><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 45,207 l 441.703125,0 l 0,34 l-441.703125 0 z" fill="#F8EA75" stroke="#3b4044" rx="0" ry="0" class="note__bg" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="265.8515625" y="224" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" width="441.703125" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">SERVER CAN SEND DATA WITHOUT CLIENT REQUEST</text></g><g opacity="1" class="message"><line opacity="1" stroke-opacity="1" fill-opacity="1" x1="486.703125" y1="275" x2="40" y2="275" stroke="currentColor" class="message__line" style="stroke-width:var(--diagram-pintora-stroke-width, 2)"></line><path opacity="1" stroke-opacity="1" fill-opacity="1" x="31.339745962155618" y="275" fill="currentColor" d="M 31.339745962155618 270L 31.339745962155618 280L 40 275Z" stroke="none" transform="matrix(-1,-1.2246467991473532e-16,1.2246467991473532e-16,-1,79.99999999999997,550)" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="before-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="273.3515625" y="251" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" width="466.703125" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="message__text">SERVER SEND SOME DATA</text></g><g opacity="1" class="loop"><polygon opacity="1" stroke-opacity="1" fill-opacity="1" points="30,94 80,94 80,114 74,119 30,119" fill="transparent" stroke="#5c7cfa" class="loop__label-box" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></polygon><text alignment-baseline="before-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="35" y="99" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, left);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="label-text">loop</text><text alignment-baseline="before-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="293.3515625" y="99" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="loop__title">[BIDIRECTIONAL]</text></g><g opacity="1" class="note"><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 35,295 l 461.703125,0 l 0,32 l-461.703125 0 z" fill="#F8EA75" stroke="#3b4044" rx="0" ry="0" class="note__bg" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="265.8515625" y="311" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" width="461.703125" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">UNTIL DISCONNECTED</text></g><g opacity="1" class="actor"><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 4,347 l 72,0 a 4,4,0,0,1,4,4 l 0,42 a 4,4,0,0,1,-4,4 l -72,0 a 4,4,0,0,1,-4,-4 l 0,-42 a 4,4,0,0,1,4,-4 z" fill="transparent" stroke="currentColor" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="40" y="372" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">CLIENT</text></g><g opacity="1" class="actor"><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 454.36328125,347 l 74.6796875,0 a 4,4,0,0,1,4,4 l 0,42 a 4,4,0,0,1,-4,4 l -74.6796875,0 a 4,4,0,0,1,-4,-4 l 0,-42 a 4,4,0,0,1,4,-4 z" fill="transparent" stroke="currentColor" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="491.703125" y="372" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">SERVER</text></g><text alignment-baseline="after-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="266.521484375" y="-20" font-style="normal" font-weight="bold" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="sequence__title">SOCKET</text></g></svg></div>
<div class="language-diagram-pintora"><svg width="525" height="405" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 525 405"><defs id="defs_1"></defs><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 0,0 l 525,0 l 0,405 l-525 0 z" fill="transparent" stroke="none" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><g opacity="1" transform="matrix(1,0,0,1,10,50)"><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 30,60 l 443.25,0 l 0,205 l-443.25 0 z" stroke="#5c7cfa" stroke-dasharray="2 2" fill="none" style="stroke-width:var(--diagram-pintora-stroke-width, 2)"></path><g opacity="1" class="actor"><line opacity="1" stroke-opacity="1" fill-opacity="1" x1="40" y1="50" x2="40" y2="285" stroke="currentColor" class="actor__line" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></line><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 4,0 l 72,0 a 4,4,0,0,1,4,4 l 0,42 a 4,4,0,0,1,-4,4 l -72,0 a 4,4,0,0,1,-4,-4 l 0,-42 a 4,4,0,0,1,4,-4 z" fill="transparent" stroke="currentColor" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="40" y="25" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">CLIENT</text></g><g opacity="1" class="actor"><line opacity="1" stroke-opacity="1" fill-opacity="1" x1="463.25" y1="50" x2="463.25" y2="285" stroke="currentColor" class="actor__line" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></line><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 425.91015625,0 l 74.6796875,0 a 4,4,0,0,1,4,4 l 0,42 a 4,4,0,0,1,-4,4 l -74.6796875,0 a 4,4,0,0,1,-4,-4 l 0,-42 a 4,4,0,0,1,4,-4 z" fill="transparent" stroke="currentColor" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="463.25" y="25" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">SERVER</text></g><g opacity="1" class="activations"></g><g opacity="1" class="note"><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 45,105 l 226.3125,0 l 0,34 l-226.3125 0 z" fill="#F8EA75" stroke="#3b4044" rx="0" ry="0" class="note__bg" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="158.15625" y="122" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" width="226.3125" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">INTERVAL EACH REQUEST</text></g><g opacity="1" class="note"><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 45,149 l 413.25,0 l 0,34 l-413.25 0 z" fill="#F8EA75" stroke="#3b4044" rx="0" ry="0" class="note__bg" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="251.625" y="166" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" width="413.25" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">CLIENT NEED REQUEST TO SERVER TO GET DATA</text></g><g opacity="1" class="message"><line opacity="1" stroke-opacity="1" fill-opacity="1" x1="40" y1="221" x2="463.25" y2="221" stroke="currentColor" class="message__line" style="stroke-width:var(--diagram-pintora-stroke-width, 2)"></line><path opacity="1" stroke-opacity="1" fill-opacity="1" x="454.58974596215563" y="221" fill="currentColor" d="M 454.58974596215563 216L 454.58974596215563 226L 463.25 221Z" stroke="none" transform="matrix(1,0,0,1,0,0)" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="before-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="261.625" y="193" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" width="443.25" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="message__text">CLIENT REQUEST SOME DATA</text></g><g opacity="1" class="message"><line opacity="1" stroke-opacity="1" fill-opacity="1" x1="463.25" y1="255" x2="40" y2="255" stroke="currentColor" class="message__line" style="stroke-width:var(--diagram-pintora-stroke-width, 2)"></line><path opacity="1" stroke-opacity="1" fill-opacity="1" x="31.339745962155618" y="255" fill="currentColor" d="M 31.339745962155618 250L 31.339745962155618 260L 40 255Z" stroke="none" transform="matrix(-1,-1.2246467991473532e-16,1.2246467991473532e-16,-1,79.99999999999997,510)" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="before-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="261.625" y="231" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" width="443.25" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="message__text">SERVER RESPONSE SOME DATA</text></g><g opacity="1" class="loop"><polygon opacity="1" stroke-opacity="1" fill-opacity="1" points="30,60 80,60 80,80 74,85 30,85" fill="transparent" stroke="#5c7cfa" class="loop__label-box" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></polygon><text alignment-baseline="before-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="35" y="65" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, left);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="label-text">loop</text><text alignment-baseline="before-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="276.625" y="65" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="loop__title">[EACH]</text></g><g opacity="1" class="actor"><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 4,285 l 72,0 a 4,4,0,0,1,4,4 l 0,42 a 4,4,0,0,1,-4,4 l -72,0 a 4,4,0,0,1,-4,-4 l 0,-42 a 4,4,0,0,1,4,-4 z" fill="transparent" stroke="currentColor" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="40" y="310" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">CLIENT</text></g><g opacity="1" class="actor"><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 425.91015625,285 l 74.6796875,0 a 4,4,0,0,1,4,4 l 0,42 a 4,4,0,0,1,-4,4 l -74.6796875,0 a 4,4,0,0,1,-4,-4 l 0,-42 a 4,4,0,0,1,4,-4 z" fill="transparent" stroke="currentColor" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="463.25" y="310" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">SERVER</text></g><text alignment-baseline="after-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="252.294921875" y="-20" font-style="normal" font-weight="bold" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="sequence__title">HTTP POOLING</text></g></svg></div>
<p class="astro-6r4uocda" data-astro-cid-6r4uocda>But I too lazy to setup websocket and let alone the requirement to have bidirectional communication between server and client, so <strong>Server-Sent Events</strong> (SSE) is perfect for this.</p>
<div class="language-diagram-pintora"><svg width="657" height="514" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 657 514"><defs id="defs_1"></defs><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 0,0 l 657,0 l 0,514 l-657 0 z" fill="transparent" stroke="none" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><g opacity="1" transform="matrix(1,0,0,1,10,50)"><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 30,103 l 580.3203125,0 l 0,229 l-580.3203125 0 z" stroke="#5c7cfa" stroke-dasharray="2 2" fill="none" style="stroke-width:var(--diagram-pintora-stroke-width, 2)"></path><g opacity="1" class="actor"><line opacity="1" stroke-opacity="1" fill-opacity="1" x1="40" y1="50" x2="40" y2="394" stroke="currentColor" class="actor__line" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></line><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 4,0 l 72,0 a 4,4,0,0,1,4,4 l 0,42 a 4,4,0,0,1,-4,4 l -72,0 a 4,4,0,0,1,-4,-4 l 0,-42 a 4,4,0,0,1,4,-4 z" fill="transparent" stroke="currentColor" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="40" y="25" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">CLIENT</text></g><g opacity="1" class="actor"><line opacity="1" stroke-opacity="1" fill-opacity="1" x1="595.3203125" y1="50" x2="595.3203125" y2="394" stroke="currentColor" class="actor__line" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></line><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 557.98046875,0 l 74.6796875,0 a 4,4,0,0,1,4,4 l 0,42 a 4,4,0,0,1,-4,4 l -74.6796875,0 a 4,4,0,0,1,-4,-4 l 0,-42 a 4,4,0,0,1,4,-4 z" fill="transparent" stroke="currentColor" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="595.3203125" y="25" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">SERVER</text></g><g opacity="1" class="activations"><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 590.3203125,90 l 10,0 l 0,242 l-10 0 z" fill="#f8f8f2" stroke="#3b4044" rx="0" ry="0" class="activation" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path></g><g opacity="1" class="message"><line opacity="1" stroke-opacity="1" fill-opacity="1" x1="40" y1="88" x2="595.3203125" y2="88" stroke="currentColor" class="message__line" style="stroke-width:var(--diagram-pintora-stroke-width, 2)"></line><path opacity="1" stroke-opacity="1" fill-opacity="1" x="586.6600584621556" y="88" fill="currentColor" d="M 586.6600584621556 83L 586.6600584621556 93L 595.3203125 88Z" stroke="none" transform="matrix(1,0,0,1,0,0)" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="before-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="327.66015625" y="60" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" width="575.3203125" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="message__text">HTTP REQUEST</text></g><g opacity="1" class="message"><line opacity="1" stroke-opacity="1" fill-opacity="1" x1="590.3203125" y1="178" x2="40" y2="178" stroke="currentColor" class="message__line" style="stroke-width:var(--diagram-pintora-stroke-width, 2)"></line><path opacity="1" stroke-opacity="1" fill-opacity="1" x="31.339745962155618" y="178" fill="currentColor" d="M 31.339745962155618 173L 31.339745962155618 183L 40 178Z" stroke="none" transform="matrix(-1,-1.2246467991473532e-16,1.2246467991473532e-16,-1,79.99999999999997,356)" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="before-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="325.16015625" y="148" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" width="570.3203125" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="message__text">SERVER RESPONSED WITH HEADER event-stream AND keep-alive</text></g><g opacity="1" class="note"><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 170.6484375,188 l 419.671875,0 l 0,32 l-419.671875 0 z" fill="#F8EA75" stroke="#3b4044" rx="0" ry="0" class="note__bg" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="380.484375" y="204" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" width="419.671875" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">SERVER CAN SEND DATA WHEN EVER THEY WANT</text></g><g opacity="1" class="message"><line opacity="1" stroke-opacity="1" fill-opacity="1" x1="590.3203125" y1="254" x2="40" y2="254" stroke="currentColor" class="message__line" style="stroke-width:var(--diagram-pintora-stroke-width, 2)"></line><path opacity="1" stroke-opacity="1" fill-opacity="1" x="31.339745962155618" y="254" fill="currentColor" d="M 31.339745962155618 249L 31.339745962155618 259L 40 254Z" stroke="none" transform="matrix(-1,-1.2246467991473532e-16,1.2246467991473532e-16,-1,79.99999999999997,508)" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="before-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="325.16015625" y="230" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" width="570.3203125" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="message__text">SERVER SEND SOME DATA</text></g><g opacity="1" class="message"><line opacity="1" stroke-opacity="1" fill-opacity="1" x1="590.3203125" y1="288" x2="40" y2="288" stroke="currentColor" class="message__line" style="stroke-width:var(--diagram-pintora-stroke-width, 2)"></line><path opacity="1" stroke-opacity="1" fill-opacity="1" x="31.339745962155618" y="288" fill="currentColor" d="M 31.339745962155618 283L 31.339745962155618 293L 40 288Z" stroke="none" transform="matrix(-1,-1.2246467991473532e-16,1.2246467991473532e-16,-1,79.99999999999997,576)" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="before-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="325.16015625" y="264" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" width="570.3203125" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="message__text">SERVER SEND SOME DATA</text></g><g opacity="1" class="message"><line opacity="1" stroke-opacity="1" fill-opacity="1" x1="590.3203125" y1="322" x2="40" y2="322" stroke="currentColor" class="message__line" style="stroke-width:var(--diagram-pintora-stroke-width, 2)"></line><path opacity="1" stroke-opacity="1" fill-opacity="1" x="31.339745962155618" y="322" fill="currentColor" d="M 31.339745962155618 317L 31.339745962155618 327L 40 322Z" stroke="none" transform="matrix(-1,-1.2246467991473532e-16,1.2246467991473532e-16,-1,79.99999999999996,644)" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="before-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="325.16015625" y="298" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" width="570.3203125" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="message__text">SERVER SEND SOME DATA</text></g><g opacity="1" class="loop"><polygon opacity="1" stroke-opacity="1" fill-opacity="1" points="30,103 80,103 80,123 74,128 30,128" fill="transparent" stroke="#5c7cfa" class="loop__label-box" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></polygon><text alignment-baseline="before-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="35" y="108" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, left);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="label-text">loop</text><text alignment-baseline="before-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="345.16015625" y="108" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="loop__title">[ONE WAY COMMUNICATION]</text></g><g opacity="1" class="note"><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 35,342 l 565.3203125,0 l 0,32 l-565.3203125 0 z" fill="#F8EA75" stroke="#3b4044" rx="0" ry="0" class="note__bg" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="317.66015625" y="358" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" width="565.3203125" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">UNTIL DISCONNECTED</text></g><g opacity="1" class="actor"><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 4,394 l 72,0 a 4,4,0,0,1,4,4 l 0,42 a 4,4,0,0,1,-4,4 l -72,0 a 4,4,0,0,1,-4,-4 l 0,-42 a 4,4,0,0,1,4,-4 z" fill="transparent" stroke="currentColor" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="40" y="419" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">CLIENT</text></g><g opacity="1" class="actor"><path opacity="1" stroke-opacity="1" fill-opacity="1" d="M 557.98046875,394 l 74.6796875,0 a 4,4,0,0,1,4,4 l 0,42 a 4,4,0,0,1,-4,4 l -74.6796875,0 a 4,4,0,0,1,-4,-4 l 0,-42 a 4,4,0,0,1,4,-4 z" fill="transparent" stroke="currentColor" style="stroke-width:var(--diagram-pintora-stroke-width, 1)"></path><text alignment-baseline="central" opacity="1" stroke-opacity="1" fill-opacity="1" x="595.3203125" y="419" font-style="normal" font-weight="400" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none">SERVER</text></g><text alignment-baseline="after-edge" opacity="1" stroke-opacity="1" fill-opacity="1" x="318.330078125" y="-20" font-style="normal" font-weight="bold" font-variant="normal" fill="currentColor" paint-order="stroke" style="stroke-linecap:butt;stroke-linejoin:miter;text-anchor:var(--diagram-pintora-text-anchor, middle);stroke-width:var(--diagram-pintora-stroke-width, 1);font-size:var(--diagram-pintora-font-size, 16px);font-family:var(--diagram-pintora-font-family, Source Code Pro, sans-serif)" stroke="none" class="sequence__title">SERVER-SENT EVENTS</text></g></svg></div>
<section data-astro-cid-wcjwfpce><h2 id="result" data-astro-cid-wcjwfpce class="heading">Result</h2><a href="#result" title="Copy URL" copy-heading-url data-astro-cid-wcjwfpce><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="16" height="16" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wcjwfpce><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-wcjwfpce></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" data-astro-cid-wcjwfpce></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" data-astro-cid-wcjwfpce></path></svg></a></section>
<p class="astro-6r4uocda" data-astro-cid-6r4uocda><div data-astro-cid-lcsuxz5u><img src="/assets/blog/go-server-sent-events/terminal-sse.png" alt="Terminal SSE" class="astro-lcsuxz5u" data-astro-cid-lcsuxz5u></div></p>
<p class="astro-6r4uocda" data-astro-cid-6r4uocda>Implementing server-sent events in Go is relatively easy, you can detect server and client is disconnect. The downside of server-sent events is only support string UTF-8, you can convert any binary to base64 but for small amount. If you need to send large binary data, I will suggest to use websocket.</p>
<section data-astro-cid-wcjwfpce><h2 id="the-code" data-astro-cid-wcjwfpce class="heading">The Code</h2><a href="#the-code" title="Copy URL" copy-heading-url data-astro-cid-wcjwfpce><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="16" height="16" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-wcjwfpce><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-wcjwfpce></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" data-astro-cid-wcjwfpce></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" data-astro-cid-wcjwfpce></path></svg></a></section>
<div data-rehype-pretty-code-fragment=""><div data-astro-cid-jims2num><div class="wrapper" data-astro-cid-jims2num><pre data-language="go" data-theme="default" class="astro-jims2num" data-astro-cid-jims2num><code data-language="go" data-theme="default" class="astro-onsiziaz" data-is-shiki="true" data-astro-cid-onsiziaz><span class="line"><span style="color:#FF7B72">package</span><span style="color:#E6EDF3"> </span><span style="color:#FFA657">main</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#FF7B72">import</span><span style="color:#E6EDF3"> (</span></span>
<span class="line"><span style="color:#E6EDF3">	</span><span style="color:#A5D6FF">&quot;</span><span style="color:#FFA657">context</span><span style="color:#A5D6FF">&quot;</span></span>
<span class="line"><span style="color:#E6EDF3">	</span><span style="color:#A5D6FF">&quot;</span><span style="color:#FFA657">log</span><span style="color:#A5D6FF">&quot;</span></span>
<span class="line"><span style="color:#E6EDF3">	</span><span style="color:#A5D6FF">&quot;</span><span style="color:#FFA657">net/http</span><span style="color:#A5D6FF">&quot;</span></span>
<span class="line"><span style="color:#E6EDF3">	</span><span style="color:#A5D6FF">&quot;</span><span style="color:#FFA657">os</span><span style="color:#A5D6FF">&quot;</span></span>
<span class="line"><span style="color:#E6EDF3">	</span><span style="color:#A5D6FF">&quot;</span><span style="color:#FFA657">os/signal</span><span style="color:#A5D6FF">&quot;</span></span>
<span class="line"><span style="color:#E6EDF3">	</span><span style="color:#A5D6FF">&quot;</span><span style="color:#FFA657">syscall</span><span style="color:#A5D6FF">&quot;</span></span>
<span class="line"><span style="color:#E6EDF3">	</span><span style="color:#A5D6FF">&quot;</span><span style="color:#FFA657">time</span><span style="color:#A5D6FF">&quot;</span></span>
<span class="line"><span style="color:#E6EDF3">)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#FF7B72">func</span><span style="color:#E6EDF3"> </span><span style="color:#D2A8FF">main</span><span style="color:#E6EDF3">() {</span></span>
<span class="line"><span style="color:#E6EDF3">	ctxShutdown, cancelShutdown </span><span style="color:#FF7B72">:=</span><span style="color:#E6EDF3"> signal.</span><span style="color:#79C0FF">NotifyContext</span><span style="color:#E6EDF3">(context.</span><span style="color:#79C0FF">Background</span><span style="color:#E6EDF3">(), os.Interrupt, syscall.SIGTERM)</span></span>
<span class="line"><span style="color:#E6EDF3">	</span><span style="color:#FF7B72">defer</span><span style="color:#E6EDF3"> </span><span style="color:#79C0FF">cancelShutdown</span><span style="color:#E6EDF3">()</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#E6EDF3">	http.</span><span style="color:#79C0FF">HandleFunc</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;/sse&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FF7B72">func</span><span style="color:#E6EDF3">(w http.ResponseWriter, r </span><span style="color:#FF7B72">*</span><span style="color:#E6EDF3">http.Request) {</span></span>
<span class="line"><span style="color:#E6EDF3">		w.</span><span style="color:#79C0FF">Header</span><span style="color:#E6EDF3">().</span><span style="color:#79C0FF">Set</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;Content-Type&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#A5D6FF">&quot;text/event-stream&quot;</span><span style="color:#E6EDF3">)</span></span>
<span class="line"><span style="color:#E6EDF3">		w.</span><span style="color:#79C0FF">Header</span><span style="color:#E6EDF3">().</span><span style="color:#79C0FF">Set</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;Cache-Control&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#A5D6FF">&quot;no-cache&quot;</span><span style="color:#E6EDF3">)</span></span>
<span class="line"><span style="color:#E6EDF3">		w.</span><span style="color:#79C0FF">Header</span><span style="color:#E6EDF3">().</span><span style="color:#79C0FF">Set</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;Connection&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#A5D6FF">&quot;keep-alive&quot;</span><span style="color:#E6EDF3">)</span></span>
<span class="line"><span style="color:#E6EDF3">		log.</span><span style="color:#79C0FF">Println</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;INFO(SSE): CLIENT CONNECTED&quot;</span><span style="color:#E6EDF3">)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#E6EDF3">		ticker </span><span style="color:#FF7B72">:=</span><span style="color:#E6EDF3"> time.</span><span style="color:#79C0FF">NewTicker</span><span style="color:#E6EDF3">(time.Second </span><span style="color:#FF7B72">*</span><span style="color:#E6EDF3"> </span><span style="color:#79C0FF">2</span><span style="color:#E6EDF3">)</span></span>
<span class="line"><span style="color:#E6EDF3">		</span><span style="color:#FF7B72">defer</span><span style="color:#E6EDF3"> ticker.</span><span style="color:#79C0FF">Stop</span><span style="color:#E6EDF3">()</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#E6EDF3">		</span><span style="color:#FF7B72">for</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#E6EDF3">			</span><span style="color:#FF7B72">select</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#E6EDF3">			</span><span style="color:#FF7B72">case</span><span style="color:#E6EDF3"> </span><span style="color:#FF7B72">&lt;-</span><span style="color:#E6EDF3">ticker.C:</span></span>
<span class="line"><span style="color:#E6EDF3">				log.</span><span style="color:#79C0FF">Println</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;INFO(SSE): SEND MESSAGE&quot;</span><span style="color:#E6EDF3">)</span></span>
<span class="line"><span style="color:#E6EDF3">				</span><span style="color:#FF7B72">if</span><span style="color:#E6EDF3"> f, ok </span><span style="color:#FF7B72">:=</span><span style="color:#E6EDF3"> w.(http.Flusher); </span><span style="color:#FF7B72">!</span><span style="color:#E6EDF3">ok {</span></span>
<span class="line"><span style="color:#E6EDF3">					log.</span><span style="color:#79C0FF">Println</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;ERROR(SSE): UNABLE TO FLUSH MESSAGE&quot;</span><span style="color:#E6EDF3">)</span></span>
<span class="line"><span style="color:#E6EDF3">				} </span><span style="color:#FF7B72">else</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#E6EDF3">					w.</span><span style="color:#79C0FF">Write</span><span style="color:#E6EDF3">([]</span><span style="color:#79C0FF">byte</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;data: Hello World</span><span style="color:#FF7B72">\n\n</span><span style="color:#A5D6FF">&quot;</span><span style="color:#E6EDF3">))</span></span>
<span class="line"><span style="color:#E6EDF3">					f.</span><span style="color:#79C0FF">Flush</span><span style="color:#E6EDF3">()</span></span>
<span class="line"><span style="color:#E6EDF3">				}</span></span>
<span class="line"><span style="color:#E6EDF3">			</span><span style="color:#FF7B72">case</span><span style="color:#E6EDF3"> </span><span style="color:#FF7B72">&lt;-</span><span style="color:#E6EDF3">r.</span><span style="color:#79C0FF">Context</span><span style="color:#E6EDF3">().</span><span style="color:#79C0FF">Done</span><span style="color:#E6EDF3">():</span></span>
<span class="line"><span style="color:#E6EDF3">				log.</span><span style="color:#79C0FF">Println</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;INFO(SSE): CLIENT CLOSE CONNECTION&quot;</span><span style="color:#E6EDF3">)</span></span>
<span class="line"><span style="color:#E6EDF3">				</span><span style="color:#FF7B72">return</span></span>
<span class="line"><span style="color:#E6EDF3">			</span><span style="color:#FF7B72">case</span><span style="color:#E6EDF3"> </span><span style="color:#FF7B72">&lt;-</span><span style="color:#E6EDF3">ctxShutdown.</span><span style="color:#79C0FF">Done</span><span style="color:#E6EDF3">():</span></span>
<span class="line"><span style="color:#E6EDF3">				log.</span><span style="color:#79C0FF">Println</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;INFO(SSE): DISCONNECT TO THE CLIENT&quot;</span><span style="color:#E6EDF3">)</span></span>
<span class="line"><span style="color:#E6EDF3">				</span><span style="color:#FF7B72">return</span></span>
<span class="line"><span style="color:#E6EDF3">			}</span></span>
<span class="line"><span style="color:#E6EDF3">		}</span></span>
<span class="line"><span style="color:#E6EDF3">	})</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#E6EDF3">	server </span><span style="color:#FF7B72">:=</span><span style="color:#E6EDF3"> </span><span style="color:#FF7B72">&amp;</span><span style="color:#E6EDF3">http.Server{</span></span>
<span class="line"><span style="color:#E6EDF3">		Addr: </span><span style="color:#A5D6FF">&quot;0.0.0.0:4321&quot;</span><span style="color:#E6EDF3">,</span></span>
<span class="line"><span style="color:#E6EDF3">	}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#E6EDF3">	</span><span style="color:#FF7B72">go</span><span style="color:#E6EDF3"> </span><span style="color:#FF7B72">func</span><span style="color:#E6EDF3">() {</span></span>
<span class="line"><span style="color:#E6EDF3">		log.</span><span style="color:#79C0FF">Printf</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;INFO(SERVER START): </span><span style="color:#FF7B72">%v\n</span><span style="color:#A5D6FF">&quot;</span><span style="color:#E6EDF3">, server.Addr)</span></span>
<span class="line"><span style="color:#E6EDF3">		</span><span style="color:#FF7B72">if</span><span style="color:#E6EDF3"> err </span><span style="color:#FF7B72">:=</span><span style="color:#E6EDF3"> server.</span><span style="color:#79C0FF">ListenAndServe</span><span style="color:#E6EDF3">(); err </span><span style="color:#FF7B72">!=</span><span style="color:#E6EDF3"> </span><span style="color:#79C0FF">nil</span><span style="color:#E6EDF3"> </span><span style="color:#FF7B72">&amp;&amp;</span><span style="color:#E6EDF3"> err </span><span style="color:#FF7B72">!=</span><span style="color:#E6EDF3"> http.ErrServerClosed {</span></span>
<span class="line"><span style="color:#E6EDF3">			log.</span><span style="color:#79C0FF">Panicf</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;ERROR(SERVER START): </span><span style="color:#FF7B72">%v\n</span><span style="color:#A5D6FF">&quot;</span><span style="color:#E6EDF3">, err)</span></span>
<span class="line"><span style="color:#E6EDF3">		}</span></span>
<span class="line"><span style="color:#E6EDF3">	}()</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#E6EDF3">	</span><span style="color:#FF7B72">&lt;-</span><span style="color:#E6EDF3">ctxShutdown.</span><span style="color:#79C0FF">Done</span><span style="color:#E6EDF3">()</span></span>
<span class="line"><span style="color:#E6EDF3">	log.</span><span style="color:#79C0FF">Println</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;INFO: SHUTDOWN&quot;</span><span style="color:#E6EDF3">)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#E6EDF3">	ctxServerShutdown, cancelServerShutdown </span><span style="color:#FF7B72">:=</span><span style="color:#E6EDF3"> context.</span><span style="color:#79C0FF">WithTimeout</span><span style="color:#E6EDF3">(context.</span><span style="color:#79C0FF">Background</span><span style="color:#E6EDF3">(), </span><span style="color:#79C0FF">5</span><span style="color:#FF7B72">*</span><span style="color:#E6EDF3">time.Second)</span></span>
<span class="line"><span style="color:#E6EDF3">	</span><span style="color:#FF7B72">defer</span><span style="color:#E6EDF3"> </span><span style="color:#79C0FF">cancelServerShutdown</span><span style="color:#E6EDF3">()</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#E6EDF3">	</span><span style="color:#FF7B72">if</span><span style="color:#E6EDF3"> err </span><span style="color:#FF7B72">:=</span><span style="color:#E6EDF3"> server.</span><span style="color:#79C0FF">Shutdown</span><span style="color:#E6EDF3">(ctxServerShutdown); err </span><span style="color:#FF7B72">!=</span><span style="color:#E6EDF3"> </span><span style="color:#79C0FF">nil</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#E6EDF3">		log.</span><span style="color:#79C0FF">Panicf</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;ERROR(SERVER SHUTDOWN): </span><span style="color:#FF7B72">%v\n</span><span style="color:#A5D6FF">&quot;</span><span style="color:#E6EDF3">, err)</span></span>
<span class="line"><span style="color:#E6EDF3">	}</span></span>
<span class="line"><span style="color:#E6EDF3">}</span></span></code></pre></div><button class="btn btn-square" title="Copy code" copy-code="true" data-astro-cid-jims2num data-astro-cid-7ab5kplb><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="18" height="18" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-jims2num><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-jims2num></path><rect x="8" y="8" width="12" height="12" rx="2" data-astro-cid-jims2num></rect><path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2" data-astro-cid-jims2num></path></svg></button></div></div></main><hr data-astro-cid-7jjqptxk><section data-astro-cid-v6wdqmfp><a class="btn open-discussion" href="//github.com/anasrar/anasrar.github.io/discussions/categories/giscus?discussions_q=&#34;/blog/go-server-sent-events/&#34;" data-astro-cid-v6wdqmfp data-astro-cid-7ab5kplb>Open GitHub Discussions<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-external-link" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-v6wdqmfp><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-v6wdqmfp></path><path d="M11 7h-5a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-5" data-astro-cid-v6wdqmfp></path><line x1="10" y1="14" x2="20" y2="4" data-astro-cid-v6wdqmfp></line><polyline points="15 4 20 4 20 9" data-astro-cid-v6wdqmfp></polyline></svg></a><div id="giscus" data-lang="en" data-astro-cid-v6wdqmfp></div><button class="btn write-giscus" data-astro-cid-v6wdqmfp data-astro-cid-7ab5kplb>Write comment<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-edit" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-v6wdqmfp><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-v6wdqmfp></path><path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1" data-astro-cid-v6wdqmfp></path><path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z" data-astro-cid-v6wdqmfp></path><path d="M16 5l3 3" data-astro-cid-v6wdqmfp></path></svg></button></section></article><footer data-astro-cid-tgc5tww7><div class="container" data-astro-cid-tgc5tww7><nav class="group-btn" data-astro-cid-tgc5tww7><a class="btn btn-square" href="mailto:mynameanasrar@gmail.com" title="Send Email" data-astro-cid-tgc5tww7 data-astro-cid-7ab5kplb><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-at" width="18" height="18" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-tgc5tww7><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-tgc5tww7></path><circle cx="12" cy="12" r="4" data-astro-cid-tgc5tww7></circle><path d="M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28" data-astro-cid-tgc5tww7></path></svg></a><a class="btn btn-square" href="//twitter.com/rrrriiiiiinnnn" target="_blank" title="My Twitter Account" data-astro-cid-tgc5tww7 data-astro-cid-7ab5kplb><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="18" height="18" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-tgc5tww7><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-tgc5tww7></path><path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" data-astro-cid-tgc5tww7></path></svg></a><a class="btn btn-square" href="//youtube.com/@anasrin" target="_blank" title="My YouTube Channel" data-astro-cid-tgc5tww7 data-astro-cid-7ab5kplb><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-youtube" width="18" height="18" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-tgc5tww7><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-tgc5tww7></path><rect x="3" y="5" width="18" height="14" rx="4" data-astro-cid-tgc5tww7></rect><path d="M10 9l5 3l-5 3z" data-astro-cid-tgc5tww7></path></svg></a><a class="btn btn-square" href="//github.com/anasrar" target="_blank" title="My GitHub Account" data-astro-cid-tgc5tww7 data-astro-cid-7ab5kplb><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="18" height="18" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-tgc5tww7><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-tgc5tww7></path><path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" data-astro-cid-tgc5tww7></path></svg></a><a class="btn btn-square" href="https://anasrar.github.io/rss/blog.xml" title="RSS Blog" data-astro-cid-tgc5tww7 data-astro-cid-7ab5kplb><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="18" height="18" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-tgc5tww7><path stroke="none" d="M0 0h24v24H0z" fill="none" data-astro-cid-tgc5tww7></path><circle cx="5" cy="19" r="1" data-astro-cid-tgc5tww7></circle><path d="M4 4a16 16 0 0 1 16 16" data-astro-cid-tgc5tww7></path><path d="M4 11a9 9 0 0 1 9 9" data-astro-cid-tgc5tww7></path></svg></a></nav><div class="text" data-astro-cid-tgc5tww7>
Made with <span class="heart" data-astro-cid-tgc5tww7>❤</span> by Anas Rin — Powered by
			Astro & GitHub
</div></div></footer></body></html>