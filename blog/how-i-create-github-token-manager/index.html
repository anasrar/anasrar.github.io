<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.4017105727ea55e8034c.css" data-identity="gatsby-global-css">*,:after,:before{box-sizing:border-box;margin:0;padding:0}body,html{height:100%}body{line-height:1.5}canvas,img,picture,video{display:block;max-width:100%}svg{display:inline-block}button,input,select,textarea{font:inherit}h1,h2,h3,h4,h5,h6,p{overflow-wrap:break-word}:root{font-size:16px}html{background:#0f0f0f;color:#f0f0f0}*{cursor:crosshair}pre{border:2px solid #80dada;border-radius:.4rem;font-family:JetBrains Mono,monospace;font-size:1rem;margin:0 0 .75rem;overflow:auto;width:100%}pre>div{padding:.5rem}code{background:hsla(0,0%,100%,.9);border-radius:.25rem;color:#000;display:inline-block;font-family:JetBrains Mono,monospace;font-size:.8rem;padding:.1rem .4rem}@font-face{font-display:swap;font-family:Fungis;font-style:normal;font-weight:400;src:url(/static/FUNGIS\ Regular-a97ae52756bd0d54645187abe56e846e.otf) format("opentype")}@font-face{font-display:swap;font-family:Fungis;font-style:normal;font-weight:700;src:url(/static/FUNGIS\ Bold-6f9bb9b2f868ec3fba4b2549102327cc.otf) format("opentype")}@font-face{font-display:swap;font-family:Fungis;font-style:normal;font-weight:900;src:url(/static/FUNGIS\ Heavy-710f373e2bf52a10583f8695c5044d31.otf) format("opentype")}@font-face{font-display:swap;font-family:NeutralFace;font-style:normal;font-weight:400;src:url(/static/NeutralFace-0d9305e349e0e3613037e28f73886931.otf) format("opentype")}@font-face{font-display:swap;font-family:NeutralFace;font-style:normal;font-weight:700;src:url(/static/NeutralFace-Bold-32464516cb4dc0c9e83cc9924163a53b.otf) format("opentype")}@font-face{font-display:swap;font-family:Sewaka;font-style:normal;font-weight:400;src:url(/static/SewakaSans-Regular-0e3d989f203063c36959c48d17bc5625.otf) format("opentype")}@font-face{font-display:swap;font-family:Sewaka;font-style:italic;font-weight:400;src:url(/static/SewakaSans-Italic-8ba561fa28c253d5028b176561d2ffd3.otf) format("opentype")}@font-face{font-display:swap;font-family:Sewaka;font-style:normal;font-weight:600;src:url(/static/SewakaSans-SemiBold-9ed9e12816e06b4ced090a819fae81ca.otf) format("opentype")}@font-face{font-display:swap;font-family:Sewaka;font-style:italic;font-weight:600;src:url(/static/SewakaSans-SemiBoldItalic-95d6fc418bb835bc5a053ea70beb152b.otf) format("opentype")}@font-face{font-display:swap;font-family:Sewaka;font-style:normal;font-weight:700;src:url(/static/SewakaSans-Bold-e20e160fe74d31e4532d3be64e952f3d.otf) format("opentype")}@font-face{font-display:swap;font-family:Sewaka;font-style:italic;font-weight:700;src:url(/static/SewakaSans-BoldItalic-99f2e91538f9caf2d804d05b8b634426.otf) format("opentype")}@font-face{font-display:swap;font-family:Sewaka;font-style:normal;font-weight:800;src:url(/static/SewakaSans-ExtraBold-504dbf5c379a7518a4b3dd8ba764db49.otf) format("opentype")}@font-face{font-display:swap;font-family:Sewaka;font-style:italic;font-weight:800;src:url(/static/SewakaSans-ExtraBoldItalic-db138b67fb6cdcdf6742a16fd30e74f9.otf) format("opentype")}@font-face{font-display:swap;font-family:KharkivTone;font-style:normal;font-weight:400;src:url(/static/KharkivTone-6606d31e8d8c3e9f194bab9c5dd3a3af.ttf) format("truetype")}@font-face{font-display:swap;font-family:CreatoDisplay;font-style:normal;font-weight:400;src:url(/static/CreatoDisplay-Regular-6d28723c4e0b525a515f9491e96866ac.otf) format("opentype")}@font-face{font-display:swap;font-family:CreatoDisplay;font-style:italic;font-weight:400;src:url(/static/CreatoDisplay-RegularItalic-9f1b2d99a56122a6521bb7a917e5e483.otf) format("opentype")}@font-face{font-display:swap;font-family:CreatoDisplay;font-style:normal;font-weight:100;src:url(/static/CreatoDisplay-Thin-ae8a7aa43ddc34448980b2a1b416de62.otf) format("opentype")}@font-face{font-display:swap;font-family:CreatoDisplay;font-style:italic;font-weight:100;src:url(/static/CreatoDisplay-ThinItalic-4239769be3b51d9db735823b4e552a26.otf) format("opentype")}@font-face{font-display:swap;font-family:CreatoDisplay;font-style:normal;font-weight:300;src:url(/static/CreatoDisplay-Light-2c674134733d324952ba2b76671469f4.otf) format("opentype")}@font-face{font-display:swap;font-family:CreatoDisplay;font-style:italic;font-weight:300;src:url(/static/CreatoDisplay-LightItalic-275fb00937893c286fca5e9777d6f195.otf) format("opentype")}@font-face{font-display:swap;font-family:CreatoDisplay;font-style:normal;font-weight:500;src:url(/static/CreatoDisplay-Medium-ee677d4fa2edd853d11270b7d3eee231.otf) format("opentype")}@font-face{font-display:swap;font-family:CreatoDisplay;font-style:italic;font-weight:500;src:url(/static/CreatoDisplay-MediumItalic-f96be828924099a7250065bfed32eda3.otf) format("opentype")}@font-face{font-display:swap;font-family:CreatoDisplay;font-style:normal;font-weight:700;src:url(/static/CreatoDisplay-Bold-07b3a53b2cf3578267fe33821daf5614.otf) format("opentype")}@font-face{font-display:swap;font-family:CreatoDisplay;font-style:italic;font-weight:700;src:url(/static/CreatoDisplay-BoldItalic-940dc977a444a94d9212b06deb21257a.otf) format("opentype")}@font-face{font-display:swap;font-family:CreatoDisplay;font-style:normal;font-weight:800;src:url(/static/CreatoDisplay-ExtraBold-f9de8b92de0d58c6db976371c8863490.otf) format("opentype")}@font-face{font-display:swap;font-family:CreatoDisplay;font-style:italic;font-weight:800;src:url(/static/CreatoDisplay-ExtraBoldItalic-171e1aee3b442d15132f066864461424.otf) format("opentype")}@font-face{font-display:swap;font-family:CreatoDisplay;font-style:normal;font-weight:900;src:url(/static/CreatoDisplay-Black-7062362cf6f3b2264565dee627858219.otf) format("opentype")}@font-face{font-display:swap;font-family:CreatoDisplay;font-style:italic;font-weight:900;src:url(/static/CreatoDisplay-BlackItalic-19f8dfdfa3baa94bf83f36d836535578.otf) format("opentype")}@font-face{font-display:swap;font-family:JetBrains Mono;font-style:normal;font-weight:400;src:url(/static/JetBrainsMono-Regular-73fb7b7f0e68b372adfeceffe115890a.ttf) format("truetype")}@font-face{font-display:swap;font-family:JetBrains Mono;font-style:italic;font-weight:400;src:url(/static/JetBrainsMono-Italic-6373c98a39ddb38c767ef19999fbe9b2.ttf) format("truetype")}@font-face{font-display:swap;font-family:JetBrains Mono;font-style:normal;font-weight:700;src:url(/static/JetBrainsMono-Bold-a490f58c0f460cdc1a8de19650404b18.ttf) format("truetype")}@font-face{font-display:swap;font-family:JetBrains Mono;font-style:italic;font-weight:700;src:url(/static/JetBrainsMono-BoldItalic-cc45299f4954259e6f9e246962a9c6a3.ttf) format("truetype")}</style><meta name="generator" content="Gatsby 4.4.0"/><title data-react-helmet="true">How I Create - Github Token Manager</title><link as="script" rel="preload" href="/webpack-runtime-fd53e63d7fb27f9430f4.js"/><link as="script" rel="preload" href="/framework-01a8fd346cf6c0acda2b.js"/><link as="script" rel="preload" href="/app-3f7624dfbb0cdf9b22cb.js"/><link as="script" rel="preload" href="/commons-c7c1d6536f105cfed8ef.js"/><link as="script" rel="preload" href="/a34bd2b67f88e7144ff545e0423b8d56bee75494-18b495984566309631f2.js"/><link as="script" rel="preload" href="/component---src-layout-post-tsx-130c9037749ac48a4341.js"/><link as="fetch" rel="preload" href="/page-data/blog/how-i-create-github-token-manager/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 1l9b5k0">.css-1l9b5k0{display:block;margin:0;padding:0;min-width:0;max-width:none;min-height:0;max-height:none;overflow:visible;color:inherit;text-align:left;mix-blend-mode:normal;}</style><main class="css-1l9b5k0"><style data-emotion="css 6j5nv4">.css-6j5nv4{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-flow:column nowrap;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-align-content:normal;-ms-flex-line-pack:normal;align-content:normal;gap:0;overflow:visible;margin:0;padding:0;min-width:0;max-width:none;min-height:100vh;max-height:none;}</style><section class="css-6j5nv4"><style data-emotion="css 1640pp5">.css-1640pp5{display:block;margin:0;padding:clamp(1em, 3vw, 2em);min-width:0;max-width:none;min-height:0;max-height:none;overflow:visible;color:#fff;text-align:left;mix-blend-mode:difference;}</style><section class="css-1640pp5"><style data-emotion="css 1lb2ddb">.css-1lb2ddb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-flow:row nowrap;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-content:normal;-ms-flex-line-pack:normal;align-content:normal;gap:0;overflow:hidden;margin:0;padding:0;min-width:0;max-width:none;min-height:0;max-height:none;}</style><section class="css-1lb2ddb"><style data-emotion="css 79fz17">.css-79fz17{-webkit-text-decoration:none;text-decoration:none;}</style><a class="css-79fz17" href="/"><style data-emotion="css 18oy9m6">.css-18oy9m6{display:block;margin:0;padding:0;overflow:visible;color:#FFF;font-family:'KharkivTone',sans-serif;font-weight:400;font-size:clamp(1.125em, 3vw, 1.5em);font-feature-settings:normal;font-variation-settings:normal;line-height:normal;text-align:start;text-transform:uppercase;-webkit-text-decoration:none;text-decoration:none;}</style><section class="css-18oy9m6"><section style="transform:translateY(-100%) translateZ(0)">Anas Rin</section></section></a><style data-emotion="css 1re8s3n">.css-1re8s3n{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-flow:row nowrap;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-align-content:normal;-ms-flex-line-pack:normal;align-content:normal;gap:1em;overflow:visible;margin:0;padding:0;min-width:0;max-width:none;min-height:0;max-height:none;}</style><section class="css-1re8s3n"><section style="opacity:0"><style data-emotion="css 177psud">.css-177psud{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex-flow:row nowrap;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:0.5em;padding:0.25rem 0.75rem;border:1px solid #fff;border-radius:1.5rem;background:transparent;color:#fff;font-family:"Sewaka",sans-serif;font-feature-settings:"dlig" 1,"ss01" 1,"ss02" 1,"ss03" 1;-webkit-text-decoration:none;text-decoration:none;}</style><a styled="[object Object]" class="css-177psud" href="/blog">Blog</a></section><section style="opacity:0"><a styled="[object Object]" class="css-177psud" href="/project">Project</a></section><style data-emotion="css ge5ubn">.css-ge5ubn{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex-flow:row nowrap;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:0.5em;padding:0.25rem 0.75rem;border:1px solid #fff;border-radius:1.5rem;background:#fff;color:#000;font-family:"Sewaka",sans-serif;font-feature-settings:"dlig" 1,"ss01" 1,"ss02" 1,"ss03" 1;-webkit-text-decoration:none;text-decoration:none;}</style><a href="mailto:mynameanasrar@gmail.com" class="css-ge5ubn" style="opacity:0">Contact</a></section></section></section><style data-emotion="css 1mrlsm6">.css-1mrlsm6{position:block;display:block;-webkit-order:0;-ms-flex-order:0;order:0;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;-webkit-align-self:auto;-ms-flex-item-align:auto;align-self:auto;}</style><section class="css-1mrlsm6"><style data-emotion="css 1loldgg">.css-1loldgg{display:block;margin:0 auto;padding:clamp(1em, 3vw, 2em);min-width:0;max-width:60em;min-height:0;max-height:none;overflow:visible;color:#fff;text-align:left;mix-blend-mode:difference;}</style><section class="css-1loldgg"><section style="opacity:0"><style data-emotion="css 1y2xtva">.css-1y2xtva{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-flow:column nowrap;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-align-content:normal;-ms-flex-line-pack:normal;align-content:normal;gap:2rem;overflow:visible;margin:0;padding:0;min-width:0;max-width:none;min-height:0;max-height:none;}</style><section class="css-1y2xtva"><style data-emotion="css 1yrufqj">.css-1yrufqj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-flow:column nowrap;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-align-content:normal;-ms-flex-line-pack:normal;align-content:normal;gap:.5em;overflow:visible;margin:0;padding:0;min-width:0;max-width:none;min-height:0;max-height:none;}</style><section class="css-1yrufqj"><style data-emotion="css 7gfyvl">.css-7gfyvl{display:block;margin:0;padding:0;overflow:visible;color:inherit;font-family:'NeutralFace',sans-serif;font-weight:700;font-size:clamp(1.25em, 3vw, 2em);font-feature-settings:normal;font-variation-settings:normal;line-height:1.25em;text-align:start;text-transform:none;-webkit-text-decoration:none;text-decoration:none;}</style><section class="css-7gfyvl">How I Create - Github Token Manager</section><style data-emotion="css 1ohd8b1">.css-1ohd8b1{display:block;margin:0;padding:0;overflow:visible;color:inherit;font-family:'KharkivTone',sans-serif;font-weight:400;font-size:clamp(.75em, 3vw, 1.125em);font-feature-settings:normal;font-variation-settings:normal;line-height:normal;text-align:start;text-transform:uppercase;-webkit-text-decoration:none;text-decoration:none;}</style><section class="css-1ohd8b1">10-03-2022</section></section><style data-emotion="css 10ngwa">.css-10ngwa{display:block;margin:0;padding:0;overflow:visible;color:inherit;font-family:'CreatoDisplay',sans-serif;font-weight:400;font-size:1.125em;font-feature-settings:normal;font-variation-settings:normal;line-height:normal;text-align:start;text-transform:none;-webkit-text-decoration:none;text-decoration:none;}</style><section class="css-10ngwa"><style data-emotion="css e03nwj">.css-e03nwj{display:block;margin:0 0 .75rem 0;padding:0;overflow:visible;color:inherit;font-family:inherit;font-weight:600;font-size:2.5em;font-feature-settings:normal;font-variation-settings:normal;line-height:normal;text-align:start;text-transform:none;-webkit-text-decoration:none;text-decoration:none;}</style><h3 class="css-e03nwj">TL;DR</h3><style data-emotion="css m04jbm">.css-m04jbm{display:block;margin:0 0 .75rem 0;padding:0;overflow:visible;color:inherit;font-family:inherit;font-weight:inherit;font-size:inherit;font-feature-settings:normal;font-variation-settings:normal;line-height:normal;text-align:start;text-transform:none;-webkit-text-decoration:none;text-decoration:none;}</style><p class="css-m04jbm">It&#x27;s just some simple <strong>CR<del>U</del>D</strong> using <strong>SQLite</strong> and <strong>AES-CBC 128-bit</strong> with <strong>git</strong> integration.<br/>
<!-- -->Project repository ➜ <style data-emotion="css ssecez">.css-ssecez{color:#80dada;-webkit-text-decoration:#8080ff wavy underline;text-decoration:#8080ff wavy underline;}</style><a href="https://github.com/anasrar/gah" class="css-ssecez">https://github.com/anasrar/gah</a></p><h3 class="css-e03nwj">Github Token</h3><p class="css-m04jbm">Back in December 2020, Github announce that token is require for any Git operations, start in August 13, 2021 [<a href="https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/" class="css-ssecez">blog post</a>].</p><p class="css-m04jbm">Although it&#x27;s good you can set different permission and expire date on each token, I just don&#x27;t want to copy token on text file every Git operations like my co-worker did, so this is why I create simple token manager.</p><h3 class="css-e03nwj">Initial Goal</h3><p class="css-m04jbm">The initial goal is just simple CLI CR<del>U</del>D who encrypt Github token and decrypt the token when I need without something like NodeJS and Python installed, just download the binary ➜ add to PATH ➜ done, and being able to move the database file from Linux to Windows and vice versa.</p><p class="css-m04jbm">That is why I choose C++ for this project, and I think just fun to learn more about C++.</p><h3 class="css-e03nwj">Ingredients</h3><style data-emotion="css rwdd5m">.css-rwdd5m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-flow:column nowrap;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-align-content:normal;-ms-flex-line-pack:normal;align-content:normal;gap:.5rem;overflow:visible;margin:0 0 .75rem 0;padding:0;min-width:0;max-width:none;min-height:0;max-height:none;}</style><ul class="css-rwdd5m"><style data-emotion="css n4dk5b">.css-n4dk5b{list-style:"◉  " inside;}</style><li class="css-n4dk5b">C++ compiler ➜ GCC for Linux and MSVC for Windows</li><li class="css-n4dk5b">CMake ➜ <a href="https://cmake.org/" class="css-ssecez">site</a></li><li class="css-n4dk5b">linuxdeployqt ➜ <a href="https://github.com/probonopd/linuxdeployqt" class="css-ssecez">repository</a></li><li class="css-n4dk5b">SQLite ➜ <a href="https://www.sqlite.org/index.html" class="css-ssecez">site</a></li><li class="css-n4dk5b">PicoSHA2 ➜ <a href="https://github.com/okdshin/PicoSHA2" class="css-ssecez">repository</a></li><li class="css-n4dk5b">plusaes ➜ <a href="https://github.com/kkAyataka/plusaes" class="css-ssecez">repository</a></li><li class="css-n4dk5b">argparse ➜ <a href="https://github.com/p-ranav/argparse" class="css-ssecez">repository</a></li><li class="css-n4dk5b">tabulate ➜ <a href="https://github.com/p-ranav/tabulate" class="css-ssecez">repository</a></li><li class="css-n4dk5b">clip ➜ <a href="https://github.com/dacap/clip" class="css-ssecez">repository</a></li></ul><p class="css-m04jbm">All ingredients pack into Git submodule except compiler, CMake, and linuxdeployqt.</p><h3 class="css-e03nwj">Encryption</h3><p class="css-m04jbm">Here some pseudo code in python syntax, just give you rough idea how I implement.</p><pre class="prism-code language-python" style="color:#bfc7d5;background-color:#292d3e"><div><div class="token-line" style="color:#bfc7d5"><span class="token plain">token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ghp_TOKEN&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;very_secure_password&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">final_token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GAH_FLAG_&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> token </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># add flag to token for later decrypt check</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">hash_password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">list</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> sha256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># convert password to array of number (0 - 255)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ENCRYPT</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">encrypted_size</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">list</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token builtin" style="color:rgb(130, 170, 255)">len</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">final_token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># the aes_decrypt need original string length</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">encrypted_token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">list</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> aes_encrypt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">final_token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> hash_password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># encrypt final_token with hash_password, resulting array of number 0 - 255</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">final_encrypted_token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> list_number_to_hex_string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">encrypted_token </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> encrypted_size</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># convert array number to hex string and store to database</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># DECRYPT</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">list_number_token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">list</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> hex_string_to_list_number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">final_encrypted_token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">decrypted_size</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> list_number_token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">pop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">decrypted_token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> aes_decrypt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">list_number_token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> hash_password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> decrypted_size</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> string_start_with</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">decrypted_token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GAH_FLAG_&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">string_replace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">decrypted_token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;GAH_FLAG_&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;password wrong&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></pre><p class="css-m04jbm">Token format in database.</p><pre class="prism-code language-text" style="color:#bfc7d5;background-color:#292d3e"><div><div class="token-line" style="color:#bfc7d5"><span class="token plain">┌────────────────────────┬────┬────┬────┬────┬────┬────┬────┬────┐</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">│ Encrypted Token In Hex │ FF │ 00 │ 00 │ 00 │ 00 │ 00 │ 00 │ 00 │</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">└────────────────────────┴────┴────┴────┴────┴────┴────┴────┴────┘</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                          ──────────────────────────────────────►</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            Token length 8 bytes in 8-bit hex</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                        Big-endian</span></div></div></pre><p class="css-m04jbm">You can see the C++ version ➜ <a href="https://github.com/anasrar/gah/blob/ee1e0de5975a7fa6cbf84694d47b0c929401a3b7/src/gah.cpp#L223" class="css-ssecez">gah.cpp:223</a>.</p><h3 class="css-e03nwj">Git Integration</h3><p class="css-m04jbm">Now we have fully functional what the initial goal is, store the token and copy to clipboard when we need it.</p><p class="css-m04jbm"><style data-emotion="css og5zf5">.css-og5zf5{margin:0 auto;cursor:-webkit-zoom-in;cursor:zoom-in;}</style><img src="/post_images/0.png" alt="Terminal Preview" title="Terminal Preview" class="css-og5zf5"/></p><p class="css-m04jbm">Did you know you can set username and token in Github remote or Github clone but only support for <strong>HTTPS</strong> protocol as far as I know, something like this.</p><pre class="prism-code language-bash" style="color:#bfc7d5;background-color:#292d3e"><div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># git clone</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://username:token@github.com/username/repository.git</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># git push</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> push https://username:token@github.com/username/repository.git branch</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># git pull</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> pull https://username:token@github.com/username/repository.git branch</span></div></div></pre><p class="css-m04jbm">With that you can create something like this.</p><pre class="prism-code language-python" style="color:#bfc7d5;background-color:#292d3e"><div><div class="token-line" style="color:#bfc7d5"><span class="token plain">command</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;git push https://&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> username </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> token </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> remove_http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">remote</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot; &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> branch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">exec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">command</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></pre><p class="css-m04jbm">And the result when implemented.</p><p class="css-m04jbm"><img src="/post_images/1.png" alt="Terminal Preview Push Command" title="Terminal Preview Push Command" class="css-og5zf5"/></p><h3 class="css-e03nwj">Binary File</h3><p class="css-m04jbm">In Windows is pretty easy to build and distribute the binary file into single exe since all library is a static library, Linux in another hand is hard, like Linus Torvalds say in <strong>DebConf 14_ QA with Linus Torvalds talk</strong> [<a href="https://youtu.be/5PmHRSeA2c8?t=333" class="css-ssecez">video</a> 05:33]</p><style data-emotion="css vx9oiy">.css-vx9oiy{margin:0 0 0.75rem 0;padding:1rem;border-left:0.5rem solid #fff;border-radius:0.4rem;background:rgba(255, 255, 255, 0.1);}</style><blockquote class="css-vx9oiy"><p class="css-m04jbm">We basically don&#x27;t make binaries for Linux. Why? Because binaries for Linux desktop applications is a major f*ing pain in the ass.</p></blockquote><p class="css-m04jbm">Basically most Linux applications using shared library (you can call it dependency), and the library it self should be installed and compatible with the binary (the library version when the binary it&#x27;s build).</p><p class="css-m04jbm">And I found that AppImage is the solution (Flatpak and Snap is also good, but I prefer using AppImage because it easy to understand), AppImage is a Linux format file allow to pack all shared library that you need into execute binary that self extract and container when it execute, more information on <a href="https://appimage.org/" class="css-ssecez">https://appimage.org/</a>.</p><p class="css-m04jbm">linuxdeployqt allow to automatically pack all shared library that we need on binary file into single AppImage file, although linuxdeployqt mainly to generate AppImage for Qt application but it can use for general application, more information on <a href="https://github.com/probonopd/linuxdeployqt" class="css-ssecez">https://github.com/probonopd/linuxdeployqt</a>.</p><h3 class="css-e03nwj">Github Actions</h3><p class="css-m04jbm">Now the final thing is Github Actions, let the Github Actions compile both for Linux and Windows and automatically create release and upload the binary file, here&#x27;s how I do it ➜ <a href="https://github.com/anasrar/gah/blob/main/.github/workflows/build_release.yml" class="css-ssecez">build_release.yml</a>, and also others automation for CI and PR test.</p><p class="css-m04jbm"><strong>AND IT&#x27;S FREE</strong> for public repository as far as I know.</p><p class="css-m04jbm"><img src="https://c.tenor.com/sP4SQzZ4I1AAAAAM/minecraft-free-real-estate.gif" alt="It&#x27;s Free Real Estate" title="It&#x27;s Free Real Estate" class="css-og5zf5"/></p><style data-emotion="css o8xl22">.css-o8xl22{display:block;margin:0 0 .75rem 0;padding:0;overflow:visible;color:inherit;font-family:inherit;font-weight:600;font-size:2.25em;font-feature-settings:normal;font-variation-settings:normal;line-height:normal;text-align:start;text-transform:none;-webkit-text-decoration:none;text-decoration:none;}</style><h4 class="css-o8xl22">Action Flow</h4><pre class="prism-code language-text" style="color:#bfc7d5;background-color:#292d3e"><div><div class="token-line" style="color:#bfc7d5"><span class="token plain">┌───────────────┐</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">│  Build Linux  ├───┐</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">└───────────────┘   │   ┌────────────┐   ┌──────────────┐   ┌─────────┐</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    ├──►│ Test Linux ├──►│ Test Windows ├──►│ Release │</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">┌───────────────┐   │   └────────────┘   └──────────────┘   └─────────┘</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">│ Build Windows ├───┘</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">└───────────────┘</span></div></div></pre><h3 class="css-e03nwj">Roadmap</h3><ul class="css-rwdd5m"><li class="css-n4dk5b">Add more git command flags</li><li class="css-n4dk5b">Create bash auto completion</li></ul><h3 class="css-e03nwj">What I Learn</h3><ul class="css-rwdd5m"><li class="css-n4dk5b">Use fixed width integer types for better portability and serialization ➜ <a href="https://en.cppreference.com/w/c/types/integer" class="css-ssecez">https://en.cppreference.com/w/c/types/integer</a>.</li><li class="css-n4dk5b">Shared and static library.</li><li class="css-n4dk5b">CMake configuration.</li><li class="css-n4dk5b">AppImage structure ➜ <a href="https://docs.appimage.org/packaging-guide/manual.html" class="css-ssecez">https://docs.appimage.org/packaging-guide/manual.html</a>.</li><li class="css-n4dk5b">Github actions.</li><li class="css-n4dk5b">Many more.</li></ul><h3 class="css-e03nwj">Conclusion</h3><p class="css-m04jbm">It was fun learning C++, CMake, and AppImage in this project, the thing that bothering me is I&#x27;m too lazy to write any validation command before execute, resulting security concern when user input malicious string.</p><p class="css-m04jbm">But as long the initial goal is achieve, it&#x27;s ok for me.</p><p class="css-m04jbm">Thank you so much for reading this post, feel free to contribute to this project<br/>
<!-- -->Project repository ➜ <a href="https://github.com/anasrar/gah" class="css-ssecez">https://github.com/anasrar/gah</a>, have a nice day.</p></section></section></section></section></section></section></main><style data-emotion="css ullcfg">.css-ullcfg{position:fixed;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;left:0;top:0;width:0;height:0;mix-blend-mode:difference;pointer-events:none;}</style><section style="transform:translateX(-100px) translateY(-100px) scale(0) translateZ(0);transform-origin:50% 50% 0" class="css-ullcfg"><style data-emotion="css 1j5hrwi">.css-1j5hrwi{position:relative;}</style><section class="css-1j5hrwi"><section class="css-0"><svg viewBox="0 0 400 400" height="400px" width="400px"><defs><path id="MyPath" d="M 200, 200 m -100, 0 a 100,100 0 1,1 200,0 a 100,100 0 1,1 -200,0"></path></defs><g><text font-family="KharkivTone" font-size="1.125em" fill="#fff"><textPath xlink:href="#MyPath" startOffset="12.5%" text-anchor="middle">HELLO</textPath><textPath xlink:href="#MyPath" startOffset="37.5%" text-anchor="middle">HELLO</textPath><textPath xlink:href="#MyPath" startOffset="62.5%" text-anchor="middle">HELLO</textPath><textPath xlink:href="#MyPath" startOffset="87.5%" text-anchor="middle">HELLO</textPath></text></g><circle cx="200" cy="200" r="16" fill="#FFF"></circle></svg></section></section></section></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/how-i-create-github-token-manager";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-55f7e54f1578275419ff.js"],"app":["/app-3f7624dfbb0cdf9b22cb.js"],"component---src-layout-post-tsx":["/component---src-layout-post-tsx-130c9037749ac48a4341.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-cfb1215eb352e303f78d.js"],"component---src-pages-blog-tsx":["/component---src-pages-blog-tsx-6f3736c15d26003cf1c1.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-0f64d105acf6d911c6b7.js"],"component---src-pages-project-tsx":["/component---src-pages-project-tsx-baf73ed4ba54a8cd78a3.js"]};/*]]>*/</script><script src="/polyfill-55f7e54f1578275419ff.js" nomodule=""></script><script src="/component---src-layout-post-tsx-130c9037749ac48a4341.js" async=""></script><script src="/a34bd2b67f88e7144ff545e0423b8d56bee75494-18b495984566309631f2.js" async=""></script><script src="/commons-c7c1d6536f105cfed8ef.js" async=""></script><script src="/app-3f7624dfbb0cdf9b22cb.js" async=""></script><script src="/framework-01a8fd346cf6c0acda2b.js" async=""></script><script src="/webpack-runtime-fd53e63d7fb27f9430f4.js" async=""></script></body></html>